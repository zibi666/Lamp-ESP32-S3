Command: ninja flash
[1/25] Linking C static library esp-idf/esp_driver_i2s/libesp_driver_i2s.a
[2/25] Linking C static library esp-idf/esp_driver_mcpwm/libesp_driver_mcpwm.a
[3/25] Linking C static library esp-idf/esp_driver_spi/libesp_driver_spi.a
[4/25] Linking C static library esp-idf/esp_wifi/libesp_wifi.a
[5/25] Linking C static library esp-idf/esp_coex/libesp_coex.a
[6/25] Linking C static library esp-idf/wpa_supplicant/libwpa_supplicant.a
[7/25] Linking C static library esp-idf/nvs_flash/libnvs_flash.a
[8/25] Linking C static library esp-idf/freertos/libfreertos.a
[9/25] Linking C static library esp-idf/esp_hw_support/libesp_hw_support.a
[10/25] Linking C static library esp-idf/nvs_sec_provider/libnvs_sec_provider.a
[11/25] Linking C static library esp-idf/perfmon/libperfmon.a
[12/25] Linking C static library esp-idf/fatfs/libfatfs.a
[13/25] Linking C static library esp-idf/78__esp-wifi-connect/lib78__esp-wifi-connect.a
[14/25] Linking C static library esp-idf/espressif__esp-dsp/libespressif__esp-dsp.a
[15/25] Linking C static library esp-idf/78__esp-ml307/lib78__esp-ml307.a
[16/25] Linking C static library esp-idf/lvgl__lvgl/liblvgl__lvgl.a
[17/25] Linking C static library esp-idf/78__xiaozhi-fonts/lib78__xiaozhi-fonts.a
[18/25] Performing build step for 'bootloader'
[1/8] Linking C static library esp-idf/esp_rom/libesp_rom.a
[2/8] Linking C static library esp-idf/esp_common/libesp_common.a
[3/8] Linking C static library esp-idf/esp_hw_support/libesp_hw_support.a
[4/8] Linking C static library esp-idf/esp_system/libesp_system.a
[5/8] Linking C static library esp-idf/efuse/libefuse.a
[6/8] Linking C executable bootloader.elf
[7/8] Generating binary image from built executable
esptool.py v4.11.dev2
Creating esp32s3 image...
Merged 2 ELF sections
Successfully created esp32s3 image.
Generated /root/ESP_Project/Lamp-ESP32-S3/build/bootloader/bootloader.bin
[8/8] cd /root/ESP_Project/Lamp-ESP32-S3/build/bootloader/esp-idf/esptool_py && /root/.espressif/python_env/idf5.5_py3.12_env/bin/python /root/esp/esp-idf/components/partition_table/check_sizes.py --offset 0x8000 bootloader 0x0 /root/ESP_Project/Lamp-ESP32-S3/build/bootloader/bootloader.bin
Bootloader binary size 0x4050 bytes. 0x3fb0 bytes (50%) free.
[19/25] No install step for 'bootloader'
[20/25] Completed 'bootloader'
[21/25] Generating esp-idf/esp_system/ld/sections.ld
/root/ESP_Project/Lamp-ESP32-S3/main/Kconfig.projbuild:540: warning: style: quotes recommended around 'TAIJIPAI_S3_CONFIG' in 'menu TAIJIPAI_S3_CONFIG'
info: Trying to set symbol BOOTLOADER_COMPILER_OPTIMIZATION_SIZE to n, but it is currently selected by choice BOOTLOADER_COMPILER_OPTIMIZATION. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol ESPTOOLPY_FLASHSIZE_2MB to n, but it is currently selected by choice ESPTOOLPY_FLASHSIZE. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol PARTITION_TABLE_SINGLE_APP to n, but it is currently selected by choice PARTITION_TABLE_TYPE. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol BOARD_TYPE_BREAD_COMPACT_WIFI to n, but it is currently selected by choice BOARD_TYPE. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol COMPILER_OPTIMIZATION_DEBUG to n, but it is currently selected by choice COMPILER_OPTIMIZATION. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol SPIRAM_MODE_QUAD to n, but it is currently selected by choice SPIRAM_MODE. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol ESP_DEFAULT_CPU_FREQ_MHZ_160 to n, but it is currently selected by choice ESP_DEFAULT_CPU_FREQ_MHZ. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol ESP32S3_INSTRUCTION_CACHE_16KB to n, but it is currently selected by choice ESP32S3_INSTRUCTION_CACHE_SIZE. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol ESP32S3_DATA_CACHE_LINE_32B to n, but it is currently selected by choice ESP32S3_DATA_CACHE_LINE_SIZE. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol ESP_WIFI_STATIC_RX_MGMT_BUFFER to n, but it is currently selected by choice ESP_WIFI_MGMT_RX_BUFFER. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol MBEDTLS_INTERNAL_MEM_ALLOC to n, but it is currently selected by choice MBEDTLS_MEM_ALLOC_MODE. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol LV_USE_BUILTIN_MALLOC to n, but it is currently selected by choice None. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol LV_USE_BUILTIN_STRING to n, but it is currently selected by choice None. For setting it to n, set another choice symbol to y instead.
info: Trying to set symbol LV_USE_BUILTIN_SPRINTF to n, but it is currently selected by choice None. For setting it to n, set another choice symbol to y instead.
[22/25] Linking CXX executable xiaozhi.elf
[23/25] Generating binary image from built executable
esptool.py v4.11.dev2
Creating esp32s3 image...
Merged 2 ELF sections
Successfully created esp32s3 image.
Generated /root/ESP_Project/Lamp-ESP32-S3/build/xiaozhi.bin
[24/25] cd /root/ESP_Project/Lamp-ESP32-S3/build/esp-idf/esptool_py && /root/.espressif/python_env/idf5.5_py3.12_env/bin/python /root/esp/esp-idf/components/partition_table/check_sizes.py --offset 0x8000 partition --type app /root/ESP_Project/Lamp-ESP32-S3/build/partition_table/partition-table.bin /root/ESP_Project/Lamp-ESP32-S3/build/xiaozhi.bin
xiaozhi.bin binary size 0x1c3c00 bytes. Smallest app partition is 0x3f0000 bytes. 0x22c400 bytes (55%) free.
[24/25] cd /root/esp/esp-idf/components/esptool_py && /usr/bin/cmake -D IDF_PATH=/root/esp/esp-idf -D "SERIAL_TOOL=/root/.espressif/python_env/idf5.5_py3.12_env/bin/python;;/root/esp/esp-idf/components/esptool_py/esptool/esptool.py;--chip;esp32s3" -D "SERIAL_TOOL_ARGS=--before=default_reset;--after=hard_reset;write_flash;@flash_args" -D WORKING_DIRECTORY=/root/ESP_Project/Lamp-ESP32-S3/build -P /root/esp/esp-idf/components/esptool_py/run_serial_tool.cmake
esptool.py --chip esp32s3 -p /dev/ttyUSB0 -b 460800 --before=default_reset --after=hard_reset write_flash --flash_mode dio --flash_freq 80m --flash_size 16MB 0x0 bootloader/bootloader.bin 0x20000 xiaozhi.bin 0x8000 partition_table/partition-table.bin 0xd000 ota_data_initial.bin 0x800000 generated_assets.bin
esptool.py v4.11.dev2
Serial port /dev/ttyUSB0
Connecting...
Chip is ESP32-S3 (QFN56) (revision v0.2)
Features: WiFi, BLE, Embedded PSRAM 8MB (AP_3v3)
Crystal is 40MHz
MAC: 3c:dc:75:6b:ff:e4
Uploading stub...
Running stub...
Stub running...
Changing baud rate to 460800
Changed.
Configuring flash size...
Flash will be erased from 0x00000000 to 0x00004fff...
Flash will be erased from 0x00020000 to 0x001e3fff...
Flash will be erased from 0x00008000 to 0x00008fff...
Flash will be erased from 0x0000d000 to 0x0000efff...
Flash will be erased from 0x00800000 to 0x0093dfff...
SHA digest in image updated
Compressed 16464 bytes to 11449...
Writing at 0x00000000... (100 %)
Wrote 16464 bytes (11449 compressed) at 0x00000000 in 0.6 seconds (effective 238.1 kbit/s)...
Hash of data verified.
Compressed 1850368 bytes to 1117409...
Writing at 0x00020000... (1 %)
Writing at 0x0002c627... (2 %)
Writing at 0x00038fd3... (4 %)
Writing at 0x0003f86c... (5 %)
Writing at 0x00043ed1... (7 %)
Writing at 0x00049136... (8 %)
Writing at 0x0004e601... (10 %)
Writing at 0x00053234... (11 %)
Writing at 0x000582a2... (13 %)
Writing at 0x0005d956... (14 %)
Writing at 0x000661d8... (15 %)
Writing at 0x000714ee... (17 %)
Writing at 0x00082df2... (18 %)
Writing at 0x0008bf22... (20 %)
Writing at 0x00091dfd... (21 %)
Writing at 0x00097721... (23 %)
Writing at 0x0009d5d4... (24 %)
Writing at 0x000a39ee... (26 %)
Writing at 0x000a8fbf... (27 %)
Writing at 0x000adf59... (28 %)
Writing at 0x000b2fe1... (30 %)
Writing at 0x000b7ebe... (31 %)
Writing at 0x000bce05... (33 %)
Writing at 0x000c1b9f... (34 %)
Writing at 0x000c6999... (36 %)
Writing at 0x000cbd97... (37 %)
Writing at 0x000d24c7... (39 %)
Writing at 0x000d7c76... (40 %)
Writing at 0x000ddd47... (42 %)
Writing at 0x000e363e... (43 %)
Writing at 0x000ea60d... (44 %)
Writing at 0x00106942... (46 %)
Writing at 0x001115d6... (47 %)
Writing at 0x001170a8... (49 %)
Writing at 0x0011cbb8... (50 %)
Writing at 0x00122135... (52 %)
Writing at 0x00127267... (53 %)
Writing at 0x0012c692... (55 %)
Writing at 0x00131958... (56 %)
Writing at 0x00137862... (57 %)
Writing at 0x0013d627... (59 %)
Writing at 0x00142828... (60 %)
Writing at 0x00147e47... (62 %)
Writing at 0x0014d47f... (63 %)
Writing at 0x00152979... (65 %)
Writing at 0x00157b9c... (66 %)
Writing at 0x0015cb42... (68 %)
Writing at 0x001623fa... (69 %)
Writing at 0x00167b8d... (71 %)
Writing at 0x0016d094... (72 %)
Writing at 0x001725bf... (73 %)
Writing at 0x00177e57... (75 %)
Writing at 0x0017dab9... (76 %)
Writing at 0x00182adf... (78 %)
Writing at 0x00187e1a... (79 %)
Writing at 0x0018f870... (81 %)
Writing at 0x00197108... (82 %)
Writing at 0x0019eb85... (84 %)
Writing at 0x001a67d7... (85 %)
Writing at 0x001ac57a... (86 %)
Writing at 0x001b2046... (88 %)
Writing at 0x001b784c... (89 %)
Writing at 0x001bd44a... (91 %)
Writing at 0x001c4de3... (92 %)
Writing at 0x001cb880... (94 %)
Writing at 0x001d0a17... (95 %)
Writing at 0x001d6754... (97 %)
Writing at 0x001dc1f6... (98 %)
Writing at 0x001e23fe... (100 %)
Wrote 1850368 bytes (1117409 compressed) at 0x00020000 in 14.7 seconds (effective 1006.9 kbit/s)...
Hash of data verified.
Compressed 3072 bytes to 142...
Writing at 0x00008000... (100 %)
Wrote 3072 bytes (142 compressed) at 0x00008000 in 0.1 seconds (effective 453.3 kbit/s)...
Hash of data verified.
Compressed 8192 bytes to 31...
Writing at 0x0000d000... (100 %)
Wrote 8192 bytes (31 compressed) at 0x0000d000 in 0.1 seconds (effective 1089.7 kbit/s)...
Hash of data verified.
Compressed 1301324 bytes to 753034...
Writing at 0x00800000... (2 %)
Writing at 0x0081114a... (4 %)
Writing at 0x00819f73... (6 %)
Writing at 0x00821e7e... (8 %)
Writing at 0x008287f0... (10 %)
Writing at 0x0082f1c0... (13 %)
Writing at 0x00836919... (15 %)
Writing at 0x0083d06c... (17 %)
Writing at 0x00843c07... (19 %)
Writing at 0x00849eb6... (21 %)
Writing at 0x00850f05... (23 %)
Writing at 0x00857c1a... (26 %)
Writing at 0x0085e340... (28 %)
Writing at 0x00864683... (30 %)
Writing at 0x0086ab31... (32 %)
Writing at 0x0087081f... (34 %)
Writing at 0x0087761e... (36 %)
Writing at 0x0087d59b... (39 %)
Writing at 0x00883ac6... (41 %)
Writing at 0x00889db5... (43 %)
Writing at 0x0088fb23... (45 %)
Writing at 0x008959d4... (47 %)
Writing at 0x0089c135... (50 %)
Writing at 0x008a2700... (52 %)
Writing at 0x008a8863... (54 %)
Writing at 0x008ae83f... (56 %)
Writing at 0x008b41cc... (58 %)
Writing at 0x008ba634... (60 %)
Writing at 0x008c0cf8... (63 %)
Writing at 0x008c74f7... (65 %)
Writing at 0x008cd600... (67 %)
Writing at 0x008d3c7f... (69 %)
Writing at 0x008d9fa7... (71 %)
Writing at 0x008dfe43... (73 %)
Writing at 0x008e61eb... (76 %)
Writing at 0x008ebf08... (78 %)
Writing at 0x008f2069... (80 %)
Writing at 0x008f7fb9... (82 %)
Writing at 0x008fd9e7... (84 %)
Writing at 0x0090767e... (86 %)
Writing at 0x009114cb... (89 %)
Writing at 0x0091f2c4... (91 %)
Writing at 0x0092d140... (93 %)
Writing at 0x00931985... (95 %)
Writing at 0x00935afb... (97 %)
Writing at 0x00939c8b... (100 %)
Wrote 1301324 bytes (753034 compressed) at 0x00800000 in 18.0 seconds (effective 577.0 kbit/s)...
Hash of data verified.

Leaving...
Hard resetting via RTS pin...
